define("application",["jquery"],function(a){"use strict";function b(){if(!(1===arguments.length||arguments[0]instanceof Array||arguments[0]instanceof Object))throw new Error("registerControllers missing or invalid param. Expected an [] or {}.");arguments[0]instanceof Array?arguments[0].forEach(function(a){c(a)}):c(arguments[0])}function c(b){var c;console.log("Registering controller '"+b.name+"'"),b.$=a,h[b.name]=b;for(var d in b.routes)b.routes.hasOwnProperty(d)&&(c=d.substring(0,d.indexOf(" ")+1)+"/",c+=b.name,c+="/"===d.substring(d.indexOf(" ")+1)?"":""===b.name?d.substring(d.indexOf(" ")+1):"/"+d.substring(d.indexOf(" ")+1),i[c]=[b.name,b.routes[d]],console.log("Registering route '"+c+"'"))}function d(){return i}function e(a){return h[a]}var f,g=window.Coccyx=window.Coccyx||{},h={},i={};g.$=a,g.userspace=g.userspace||{},g.plugins=g.plugins||{},f="0.3.0",g.getVersion=function(){return f},g.controllers={registerControllers:b,getRoutes:d,getController:e}}),define("helpers",[],function(){"use strict";var a=window.Coccyx=window.Coccyx||{};a.helpers={contains:function(a,b){var c,d;if("string"==typeof a)for(c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1},deepCopy:function(a){return JSON.parse(JSON.stringify(a))},extend:function(a){var b,c,d=arguments.length-1;for(c=1;d>=c;c++){var e=arguments[c];for(b in e)e.hasOwnProperty(b)&&(a[b]=e[b])}return a}}}),define("history",["jquery","router"],function(a){"use strict";function b(a){var b,c=a.length,d={};for(b=0;c>b;b++)d[a[b].name]=a[b].value;return d}function c(){return g}function d(a){g=!0,a&&(history.replaceState({verb:"get"},null,window.location.pathname),f.router.route("get",window.location.pathname))}function e(a){f.history.started()&&(a=a||{},a.state=a.state||null,a.title=a.title||document.title,a.method=a.method||"get",a.url=a.url||window.location.pathname,a.trigger=a.trigger||!1,a.replace=a.replace||!1,window.history[a.replace?"replaceState":"pushState"](a.state,a.title,a.url),a.trigger&&f.router.route(a.method,a.url))}if(!history.pushState)throw console.log("history pushstate is not supported in your browser"),new Error("history pushstate not supported");console.log("history pushState is supported in your browser");var f=window.Coccyx=window.Coccyx||{},g=!1;a(document).on("click","a",function(b){if(0===a(this).attr("href").indexOf("/")){b.preventDefault();var c=b.target.pathname;f.router.route("get",c),history.pushState({verb:"get"},null,b.target.href)}}),a(document).on("submit","form",function(c){var d,e,g=a(this),h=g.attr("action");console.log(c),0===h.indexOf("/")&&(c.preventDefault(),d=g.attr("method"),e=b(g.serializeArray()),f.router.route(d,h,e))}),a(window).on("popstate",function(a){a.originalEvent.state&&c()&&f.router.route(a.originalEvent.state.verb,window.location.pathname)}),f.history={start:d,started:c,navigate:e}}),define("models",[],function(){"use strict";function a(){if(!(1===arguments.length||arguments[0]instanceof Array||arguments[0]instanceof Object))throw new Error("registerModels missing or invalid param. Expected an [] or {}.");arguments[0]instanceof Array?arguments[0].forEach(function(a){b(a)}):b(arguments[0])}function b(a){var b=e.helpers.extend(Object.create(d),a);f[a.name]=b,console.log("Registering model '"+a.name+"'")}function c(a){var b;return f.hasOwnProperty(a)?(b=Object.create(f[a]),b.set=!1,b.readOnly=!1,b.dirty=!1,b.originalData={},b.changedData={},b.data={},b):void 0}var d,e=window.Coccyx=window.Coccyx||{},f={},g=e.helpers.deepCopy;d={setData:function(a,b){var c,d={empty:!1,readOnly:!1,dirty:!1,validate:!1};if(b)for(c in d)d.hasOwnProperty(c)&&b.hasOwnProperty(c)&&(d[c]=b[c]);return this.valid=d.validate&&this.validate?this.validate(a):!0,this.valid?(this.originalData=d.empty?{}:g(a),this.readOnly=d.readOnly,this.dirty=d.dirty,this.data=g(a),this.changedData={},this.set=!0,!0):!1},getData:function(){return g(this.data)},getOriginalData:function(){return g(this.originalData)},getChangedData:function(){return g(this.changedData)},getProperty:function(a){return this.data.hasOwnProperty(a)?"object"==typeof this.data[a]?g(this.data[a]):this.data[a]:void 0},setProperty:function(a,b){return this.set?this.readOnly?console.log("Warning! Coccyx.model::setProperty called on read only model."):(this.changedData[a]=g(b),this.data[a]="object"==typeof b?g(b):b,this.dirty=!0):console.log("Warning! Coccyx.model::setProperty called on model before model::set was called."),this}},e.models={registerModels:a,getModel:c}}),define("router",["jquery"],function(a){"use strict";function b(a,b,f){var g=c(a,b);g?d(g,f):e(a,b)}function c(a,b){var c,d,e,g,h,i,j,k,l=f.controllers.getRoutes(),m=b.substring(1).split("/"),n=[],o=!1;for(c in l)if(l.hasOwnProperty(c)&&(k=c.substring(0,c.indexOf(" ")),d=c.substring(c.indexOf("/")+1).split("/"),a===k&&(m.length===d.length||f.helpers.contains(c,"*")))){for(i=!0,e=0,h=d.length;h>e;e++)if(m[e]!==d[e]){if(":"!==d[e].charAt(0)){if(f.helpers.contains(d[e],"*")){o=!0,i=!1;break}i=!1;break}n.push(m[e])}if(i)return{controllerName:l[c][0],fn:l[c][1],params:n};if(o){for(g=e,j="";g<m.length;g++)j+="/"+m[g];return{controllerName:l[c][0],fn:l[c][1],params:[j]}}}}function d(a,b){b?a.fn.call(f.controllers.getController(a.controllerName),b):a.params.length?a.fn.apply(f.controllers.getController(a.controllerName),a.params):a.fn.call(f.controllers.getController(a.controllerName))}function e(b){console.log("router::routeNotFound called with route = "+b),a("body").html('<div style="font-size:68px;"><p style="margin:auto !important;line-height:80px;">Coccyx 404</p><p style="margin:auto !important;line-height:80px;">'+b+' Not Found.</p><p style="margin:auto !important;line-height:80px;"> Did you forget to call Coccyx.controllers.registerController to register your controller?</p></div>')}var f=window.Coccyx=window.Coccyx||{};f.router={route:b}}),define("views",["jquery"],function(a){"use strict";function b(){if(!(1===arguments.length||arguments[0]instanceof Array||arguments[0]instanceof Object))throw new Error("registerViews missing or invalid param. Expected an [] or {}.");arguments[0]instanceof Array?arguments[0].forEach(function(a){c(a)}):c(arguments[0])}function c(b){b.$=a,j[b.name]=b,console.log("Registering view '"+b.name+"'")}function d(a){var b=f(a);b?b.render&&g(b,arguments.length>1?Array.prototype.slice.call(arguments,1):null):h(a)}function e(a){var b=f(a);b?b.remove&&b.remove():h(a)}function f(a){return j.hasOwnProperty(a)?j[a]:void 0}function g(a,b){b&&b.length?a.render.apply(a,b):a.render.call(a)}function h(a){console.log("views::viewNotFound called with view name = "+a)}var i=window.Coccyx=window.Coccyx||{},j={};i.views={registerViews:b,render:d,remove:e}}),define("pubsub",[],function(){"use strict";function a(){for(var a;;)if(a=Date.now().valueOf(),a!==g)return g=a,a}function b(b,c){var d=a();return f.hasOwnProperty(b)||(f[b]={}),f[b][d]=c,d}function c(a,b){f.hasOwnProperty(a)&&f[a].hasOwnProperty(b)&&delete f[a][b]}function d(a,b){var c;if(f.hasOwnProperty(a))for(c in f[a])f[a].hasOwnProperty(c)&&(b?f[a][c](b):f[a][c]())}var e=window.Coccyx=window.Coccyx||{},f={},g=0;e.pubsub={subscribe:b,unsubscribe:c,publish:d}}),define("coccyx",["application","helpers","history","models","router","views","pubsub"],function(){"use strict";return window.Coccyx});