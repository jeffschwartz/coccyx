define("application",["jquery"],function(a){"use strict";function b(){1===arguments.length||arguments[0]instanceof Array||arguments[0]instanceof Object||console.log("registerControllers missing or invalid param. Expected an [] or {}."),arguments[0]instanceof Array?arguments[0].forEach(function(a){c(a),d(a)}):(c(arguments[0]),d(arguments[0]))}function c(b){var c;console.log("Registering controller '"+b.name+"'"),b.$=a,i[b.name]=b;for(var d in b.routes)b.routes.hasOwnProperty(d)&&(c=d.substring(0,d.indexOf(" ")+1)+"/",c+=b.name,c+="/"===d.substring(d.indexOf(" ")+1)?"":""===b.name?d.substring(d.indexOf(" ")+1):"/"+d.substring(d.indexOf(" ")+1),j[c]=[b.name,b.routes[d]],console.log("Registering route '"+c+"'"))}function d(a){a.hasOwnProperty("init")&&a.init()}function e(){return j}function f(a){return i[a]}var g,h=window.Coccyx=window.Coccyx||{},i={},j={};h.$=a,h.userspace=h.userspace||{},h.plugins=h.plugins||{},g="0.6.0",h.getVersion=function(){return g},h.controllers={registerControllers:b,getRoutes:e,getController:f}}),define("helpers",[],function(){"use strict";var a=window.Coccyx=window.Coccyx||{};a.helpers={contains:function(a,b){var c,d;if("string"==typeof a)for(c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1},deepCopy:function(a){return JSON.parse(JSON.stringify(a))},extend:function(a){var b,c,d=arguments.length-1;for(c=1;d>=c;c++){var e=arguments[c];for(b in e)e.hasOwnProperty(b)&&(a[b]=e[b])}return a},replace:function(a,b){for(var c in a)a.hasOwnProperty(c)&&b.hasOwnProperty(c)&&(a[c]=b[c])}}}),define("history",["jquery","router"],function(a){"use strict";function b(a){var b,c=a.length,d={};for(b=0;c>b;b++)d[a[b].name]=a[b].value;return d}function c(){return g}function d(a,b){f.controllers.registerControllers(b),g=!0,a&&(history.replaceState({verb:"get"},null,window.location.pathname),f.router.route("get",window.location.pathname))}function e(a){f.history.started()&&(a=a||{},a.state=a.state||null,a.title=a.title||document.title,a.method=a.method||"get",a.url=a.url||window.location.pathname,a.trigger=a.trigger||!1,a.replace=a.replace||!1,window.history[a.replace?"replaceState":"pushState"](a.state,a.title,a.url),a.trigger&&f.router.route(a.method,a.url))}if(!history.pushState)throw console.log("history pushstate is not supported in your browser"),new Error("history pushstate not supported");console.log("history pushState is supported in your browser");var f=window.Coccyx=window.Coccyx||{},g=!1;a(document).on("click","a",function(b){if(0===a(this).attr("href").indexOf("/")){b.preventDefault();var c=b.target.pathname;f.router.route("get",c),history.pushState({verb:"get"},null,b.target.href)}}),a(document).on("submit","form",function(c){var d,e,g=a(this),h=g.attr("action");console.log(c),0===h.indexOf("/")&&(c.preventDefault(),d=g.attr("method"),e=b(g.serializeArray()),f.router.route(d,h,e))}),a(window).on("popstate",function(a){a.originalEvent.state&&c()&&f.router.route(a.originalEvent.state.verb,window.location.pathname)}),f.history={start:d,started:c,navigate:e}}),define("models",[],function(){"use strict";function a(b,c){if(b){var d=c.split(".");return 1===d.length?b[c]:a(b[d[0]],d.slice(1).join("."))}}function b(a,c,d){var e=c.split(".");1===e.length?a[c]="object"==typeof d?f(d):d:(a[e[0]]={},b(a[e[0]],e.slice(1).join("."),d))}function c(a){var b=a?e.helpers.extend(Object.create(d),a):d,c=Object.create(b);return c.isSet=!1,c.isReadOnly=!1,c.isDirty=!1,c.originalData={},c.changedData={},c.data={},c}var d,e=window.Coccyx=window.Coccyx||{},f=e.helpers.deepCopy;d={setData:function(a,b){var c={empty:!1,readOnly:!1,dirty:!1,validate:!1};return b&&e.helpers.replace(c,b),this.isValid=c.validate&&this.validate?this.validate(a):!0,this.isValid?(this.originalData=c.empty?{}:f(a),this.isReadOnly=c.readOnly,this.isDirty=c.dirty,this.data=f(a),this.changedData={},this.isSet=!0,!0):!1},getData:function(){return f(this.data)},getOriginalData:function(){return f(this.originalData)},getChangedData:function(){return f(this.changedData)},getProperty:function(b){return a(this.data,b)},setProperty:function(a,c){return this.isSet?this.isReadOnly?console.log("Warning! Coccyx.model::setProperty called on read only model."):(b(this.data,a,c),this.changedData[a]=f(c),this.isDirty=!0):console.log("Warning! Coccyx.model::setProperty called on model before model::set was called."),this},toJSON:function(){return JSON.stringify(this.data)}},e.models={extend:c}}),define("collections",[],function(){"use strict";function a(a){var b=a?m.helpers.extend(Object.create(l),a):l,c=Object.create(b);return c.isReadOnly=!1,c.coll=[],c.length=0,c}function b(a,d){var e,f;if(Array.isArray(a)&&Array.isArray(d)){if(a.length!==d.length)return!1;for(e=0,f=a.length;f>e;e++)if("object"!=typeof a[e]||"object"!=typeof d[e]){if("object"==typeof a[e]||"object"==typeof d[e])return!1;if(Array.isArray(a[e])&&Array.isArray(d[e])){if(!b(a[e],d[e]))return!1}else{if(Array.isArray(a[e])||Array.isArray(d[e]))return!1;if(a[e]!==d[e])return!1}}else if(!c(a[e],d[e]))return!1;return!0}return!1}function c(a,d){var e;if(b(a,d))return!0;for(e in a){if(!a.hasOwnProperty(e)||!d.hasOwnProperty(e))return!1;if("object"!=typeof a[e]||"object"!=typeof d[e]){if("object"==typeof a[e]||"object"==typeof d[e])return!1;if(a[e]!==d[e])return!1}else if(!c(a[e],d[e]))return!1}return!0}function d(a,b){return c(a,b)&&c(b,a)}function e(a,b){var c;for(c in b){if(!b.hasOwnProperty(c)||!a.hasOwnProperty(c))return!1;if("object"==typeof a[c]&&"object"==typeof b[c]){if(!d(a[c],b[c]))return!1}else{if("object"==typeof a[c]||"object"==typeof b[c])return!1;if(b[c]!==a[c])return!1}}return!0}function f(a){return Array.isArray(a)||"object"!=typeof a?!0:!1}function g(a){var b,c,d=["isSet","isReadOnly","isDirty","originalData","changedData","data"];for(b=0,c=d.length;c>b;b++)if(!a.hasOwnProperty(d[b]))return!1;return!0}function h(a){var b=m.models.extend();return b.setData(a),b}function i(a,b){var c,d;if(Array.isArray(a)||a.hasOwnProperty("length"))for(c=0,d=a.length;d>c;c++)i(a[c],b);else b(a)}function j(a,b){Array.isArray(b)?b.forEach(function(b){a.push(g(b)?b:h(b))}):a.push(g(b)?b:h(b))}function k(a){var b=[];return i(a,function(a){b.push(g(a)?a:h(a))}),b}var l,m=window.Coccyx=window.Coccyx||{};l={setModels:function(a,b){return this.coll=[],j(this.coll,a),this.isReadOnly=b&&b.readOnly,this.length=this.coll.length,this},pop:function(){var a=this.coll.pop();return this.length=this.coll.length,a},push:function(a){return j(this.coll,a),this.length=this.coll.length,this.length},reverse:function(){this.coll.reverse()},shift:function(){var a=this.coll.shift();return this.length=this.coll.length,a},sort:function(a){this.coll.sort(function(b,c){return a(b,c)})},splice:function(a,b){var c=[a,b],d=k([].slice.call(arguments,2));c=c.concat(d);var e=[].splice.apply(this.coll,c);return this.length=this.coll.length,e},unshift:function(){var a=[].unshift.apply(this.coll,k(arguments));return this.length=this.coll.length,a},getData:function(){return this.map(function(a){return a.getData()})},at:function(a){return this.coll[a]},slice:function(){return[].slice.apply(this.coll,arguments)},forEach:function(a){this.coll.forEach(function(b,c,d){a(b,c,d)})},every:function(a,b){return[].every.call(this.coll,a,b)},some:function(a,b){return[].some.call(this.coll,a,b)},filter:function(a,b){return[].filter.call(this.coll,a,b)},map:function(a,b){return[].map.call(this.coll,a,b)},setReadOnly:function(a){this.coll.forEach(function(b){b.isReadOnly=a}),this.isReadOnly=a},remove:function(a){var b;f(a)||(b=this.coll.filter(function(b){return!e(b.data,a)}),this.coll=b.length!==this.coll.length?b:this.coll,this.length=this.coll.length)},has:function(a){return f(a)?!1:this.coll.some(function(b){return e(b.data,a)})},find:function(a){return f(a)?null:this.coll.filter(function(b){return e(b.data,a)})},toJSON:function(){return this.coll.map(function(a){return JSON.stringify(a)})}},m.collections={extend:a}}),define("router",["jquery"],function(a){"use strict";function b(a,b,f){var g=c(a,b);g?d(g,f):e(a,b)}function c(a,b){var c,d,e,g,h,i,j,k,l,m=f.controllers.getRoutes(),n=b.substring(1).split("/"),o=[],p=!1;for(c in m)if(m.hasOwnProperty(c)&&(l=c.substring(0,c.indexOf(" ")),d=c.substring(c.indexOf("/")+1).split("/"),a===l&&(n.length===d.length||f.helpers.contains(c,"*")))){for(j=!0,g=0,i=d.length;i>g;g++)if(n[g]!==d[g]){if(!f.helpers.contains(d[g],":")){if(f.helpers.contains(d[g],"*")){p=!0,j=!1;break}j=!1;break}e=d[g].split(":"),2===e.length?n[g].substr(0,e[0].length)===e[0]&&o.push(n[g].substr(e[0].length)):o.push(n[g])}if(j)return{controllerName:m[c][0],fn:m[c][1],params:o};if(p){for(h=g,k="";h<n.length;h++)k+="/"+n[h];return{controllerName:m[c][0],fn:m[c][1],params:[k]}}}}function d(a,b){b?a.fn.call(f.controllers.getController(a.controllerName),b):a.params.length?a.fn.apply(f.controllers.getController(a.controllerName),a.params):a.fn.call(f.controllers.getController(a.controllerName))}function e(b){console.log("router::routeNotFound called with route = "+b),a("body").html('<div style="font-size:68px;"><p style="margin:auto !important;line-height:80px;">Coccyx 404</p><p style="margin:auto !important;line-height:80px;">'+b+' Not Found.</p><p style="margin:auto !important;line-height:80px;"> Did you forget to call Coccyx.controllers.registerController to register your controller?</p></div>')}var f=window.Coccyx=window.Coccyx||{};f.router={route:b}}),define("views",["jquery"],function(a){"use strict";function b(b){var c=Object.create(b);return c.$=a,c}var c=window.Coccyx=window.Coccyx||{};c.views={extend:b}}),define("pubsub",[],function(){"use strict";function a(){for(var a;;)if(a=Date.now().valueOf(),a!==g)return g=a,a}function b(b,c){var d=a();return f.hasOwnProperty(b)||(f[b]={}),f[b][d]=c,d}function c(a,b){f.hasOwnProperty(a)&&f[a].hasOwnProperty(b)&&delete f[a][b]}function d(a,b){var c;if(f.hasOwnProperty(a))for(c in f[a])f[a].hasOwnProperty(c)&&(b?f[a][c](b):f[a][c]())}var e=window.Coccyx=window.Coccyx||{},f={},g=0;e.pubsub={subscribe:b,unsubscribe:c,publish:d}}),define("coccyx",["application","helpers","history","models","collections","router","views","pubsub"],function(){"use strict";return window.Coccyx});